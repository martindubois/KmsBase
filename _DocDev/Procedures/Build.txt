
Auteur	KMS -	Martin Dubois, ing.
Produit	KmsBase
Fichier	_DocDev/Procedures/Build.txt


===== Version Interne =======================================================

Windows Seulement
[ ] Ouvrir une fenetre de commande
	- Naviguer jusqu'au repertoire du produit;
	- Entrer la commande "RunDoxygen.cmd";
	- Verifier que le fichier de commande ne genere pas de message d'erreur.

[ ] Modifier le fichier "Common/Version.h"
	- Incrementer le numero de compilation;
	- Verifier que "VERSION_INTERNAL" est a "true"
[ ] Modifier le fichier "Script/Install.cmd" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Script/Install.sh" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Templates/Driver_KMDF/Driver_KMDF.inf" pour
	incrementer le numero de compilation;

Linux Seulement
[ ] Ouvrir un "Terminal"
    - Naviguer jusqu'au repertoire de produit;
    - Executer "make clean";
    - Executer "make";
    - Executer "./Test.sh";
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de compilation;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

OS X Only
[ ] Ouvrir un "Terminal"
    - Naviguer jusqu'au repertoire de produit
    - Executer "make -f makefile_os_x clean"
    - Executer "make -f makefile_os_x“
    - Executer "./Test.sh"
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

Windows Seulement
[ ]	Ouvrir la solution en utilisant "Visual Studio 2013"
	- Dans le menu "BUILD", selectionner l'item "Batch Build...";
	- Dans le dialogue "Batch Build", cliquer "Rebuild";
	- Dans le menu "FILE", selectionner l'item "Save All".
[ ]	Dans la fenetre de commande
	- Entrer la commande "Test.cmd";
	- Entrer la commande "Export.cmd Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de comilation;
		Type = Internal

[ ] Indexer les fichiers modifies et les commettre en utilisant "Ma.Mi.Bu" comme message;
[ ] Ajouter le tag "Ma.Mi.Bu".
[ ] Pousser le depot GIT sur le	serveur.

===== Version Externe =======================================================

Windows Seulement
[ ] Ouvrir une fenetre de commande
	- Naviguer jusqu'au repertoire du produit;
	- Entrer la commande "RunDoxygen.cmd";
	- Verifier que le fichier de commande ne genere pas de message d'erreur.

[ ] Modifier le fichier "Common/Version.h"
	- Incrementer le numero de compilation;
	- Verifier que "VERSION_INTERNAL" est a "true"
[ ] Modifier le fichier "Script/Install.cmd" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Script/Install.sh" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Templates/Driver_KMDF/Driver_KMDF.inf" pour
	incrementer le numero de compilation;

Linux Seulement
[ ]	Ouvrir un "Terminal"
	- Naviguer jusqu'au repertoire de produit;
	- Executer "make clean";
	- Executer "make";
	- Executer "./Test.sh";
	- Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de compilation;
		Type =  | RC | Test
[ ] Deplacer les fichiers exportes vers le serveur;

OS X Only
[ ] Ouvrir un “Termina”
    - Naviguer jusqu’au repertoire du produit
    - Executer "make -f makefile_os_x clean"
    - Executer "make -f makefile_os_x“
    - Executer "./Test.sh"
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

Windows Seulement
[ ]	Ouvrir la solution en utilisant "Visual Studio 2013"
	- Dans le menu "BUILD", selectionner l'item "Batch Build...";
	- Dans le dialogue "Batch Build", cliquer "Rebuild";
	- Dans le menu "FILE", selectionner l'item "Save All".
[ ]	Dans la fenetre de commande
	- Entrer la commande "Test.cmd";
[ ] Connecter l'adaptateur RS232 ‡ USB ‡ un des ports USB de l'ordinateur;
[ ] Dans la fenetre de commande, entrer la commande "Test_SetupA.cmd"
[ ] Ouvrir une fenetre s'executant en tant qu'administrateur
	- Entrer la commande "Test_SetupB.cmd";
	- Entrer la commande "Test_SetupC.cmd";
	- Entrer la commande "exit", pour fermer la fenetre.
[ ] Deconnecter l'adaptateur RS232 ‡ USB;
[ ] Dans la fenetre de commande
	- Entrer la commande "Export.cmd Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de comilation;
		Type =  | RC | Test

[ ] Indexer les fichiers modifies et les commettre en utilisant "Ma.Mi.Bu" comme message;
[ ] Ajouter le tag "Ma.Mi.Bu";
[ ] Pousser le depot GIT sur le	serveur.

Sur un ordinateur Windows
[ ] Executer "./ExportSources.sh Ma.Mi.Bu_Type";
