
Author / Auteur		:	KMS -	Martin Dubois, ing.
Product / Produit	:	KmsBase
File / Fichier		:	_DocDev/Procedures/Build.txt

/English/

===== Internal Version ======================================================

Windows Only
[ ] Open a command windows
	- Navigate to the product folder;
	- Execute "RunDoxygen.cmd";
	- Verify that the script do not generate error message.

[ ] Edit "Common/Version.h"
	- Increment the build number;
	- Verify the "VERSION_INTERNAL" is "true"
[ ] Edit "Script/Install.cmd" and change the version number if needed;
[ ] Edit "Script/Install.sh" and change the version number if needed;
[ ] Edit "Templates/Driver_KMDF/Driver_KMDF.inf" and increment the build
	number;

Linux Only
[ ] Open a terminal
    - Navigate to the product folder
    - Execute "make clean"
    - Execute "make"
    - Execute "./Test.sh"
    - Execute "./Export.sh Ma.Mi.Bu_Type" where
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Move exported file to the server

OS X Only
[ ] Open a terminal
    - Navigate to the product folder
    - Execute "make -f makefile_os_x clean"
    - Execute "make -f makefile_os_x“
    - Execute "./Test.sh"
    - Execute "./Export.sh Ma.Mi.Bu_Type" where
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Move exported file to the server

Windows Only
[ ]	Open the solution using "Visual Studio 2013"
	- In the "BUILD" menu, select "Batch Build...";
	- In the "Batch Build" dialog, click "Rebuild";
	- In the "FILE" menu, select "Save All".
[ ]	In the command windows
	- Execute "Test.cmd";
	- Execute "Export.cmd Ma.Mi.Bu_Type" where
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal | RC | Test

[ ] Index modified files and commit them using "Ma.Mi.Bu" as message;
[ ] Add the tag "Ma.Mi.Bu".
[ ] Push the GIT repository on the server.

===== External Version ======================================================

TODO : Traduire


/Francais/

===== Version Interne =======================================================

Windows Seulement
[ ] Ouvrir une fenetre de commande
	- Naviguer jusqu'au repertoire du produit;
	- Entrer la commande "RunDoxygen.cmd";
	- Verifier que le fichier de commande ne genere pas de message d'erreur.

[ ] Modifier le fichier "Common/Version.h"
	- Incrementer le numero de compilation;
	- Verifier que "VERSION_INTERNAL" est a "true"
[ ] Modifier le fichier "Script/Install.cmd" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Script/Install.sh" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Templates/Driver_KMDF/Driver_KMDF.inf" pour
	incrementer le numero de compilation;

Linux Seulement
[ ] Ouvrir un "Terminal"
    - Naviguer jusqu'au repertoire de produit;
    - Executer "make clean";
    - Executer "make";
    - Executer "./Test.sh";
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de compilation;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

OS X Only
[ ] Ouvrir un "Terminal"
    - Naviguer jusqu'au repertoire de produit
    - Executer "make -f makefile_os_x clean"
    - Executer "make -f makefile_os_x“
    - Executer "./Test.sh"
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

Windows Seulement
[ ]	Ouvrir la solution en utilisant "Visual Studio 2013"
	- Dans le menu "BUILD", selectionner l'item "Batch Build...";
	- Dans le dialogue "Batch Build", cliquer "Rebuild";
	- Dans le menu "FILE", selectionner l'item "Save All".
[ ]	Dans la fenetre de commande
	- Entrer la commande "Test.cmd";
	- Entrer la commande "Export.cmd Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de comilation;
		Type = Internal

[ ] Indexer les fichiers modifies et les commettre en utilisant "Ma.Mi.Bu" comme message;
[ ] Ajouter le tag "Ma.Mi.Bu".
[ ] Pousser le depot GIT sur le	serveur.

===== Version Externe =======================================================

Windows Seulement
[ ] Ouvrir une fenetre de commande
	- Naviguer jusqu'au repertoire du produit;
	- Entrer la commande "RunDoxygen.cmd";
	- Verifier que le fichier de commande ne genere pas de message d'erreur.

[ ] Modifier le fichier "Common/Version.h"
	- Incrementer le numero de compilation;
	- Verifier que "VERSION_INTERNAL" est a "true"
[ ] Modifier le fichier "Script/Install.cmd" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Script/Install.sh" pour incrementer le numero de
	version si necessaire;
[ ] Modifier le fichier "Templates/Driver_KMDF/Driver_KMDF.inf" pour
	incrementer le numero de compilation;

Linux Seulement
[ ]	Ouvrir un "Terminal"
	- Naviguer jusqu'au repertoire de produit;
	- Executer "make clean";
	- Executer "make";
	- Executer "./Test.sh";
	- Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de compilation;
		Type =  | RC | Test
[ ] Deplacer les fichiers exportes vers le serveur;

OS X Only
[ ] Ouvrir un “Termina”
    - Naviguer jusqu’au repertoire du produit
    - Executer "make -f makefile_os_x clean"
    - Executer "make -f makefile_os_x“
    - Executer "./Test.sh"
    - Executer "./Export.sh Ma.Mi.Bu_Type" ou
		Ma = Major version;
		Mi = Minor Version;
		Bu = Build number;
		Type = Internal
[ ] Deplacer les fichiers exportes vers le serveur;

Windows Seulement
[ ]	Ouvrir la solution en utilisant "Visual Studio 2013"
	- Dans le menu "BUILD", selectionner l'item "Batch Build...";
	- Dans le dialogue "Batch Build", cliquer "Rebuild";
	- Dans le menu "FILE", selectionner l'item "Save All".
[ ]	Dans la fenetre de commande
	- Entrer la commande "Test.cmd";
[ ] Connecter l'adaptateur RS232 ‡ USB ‡ un des ports USB de l'ordinateur;
[ ] Dans la fenetre de commande, entrer la commande "Test_SetupA.cmd"
[ ] Ouvrir une fenetre s'executant en tant qu'administrateur
	- Entrer la commande "Test_SetupB.cmd";
	- Entrer la commande "Test_SetupC.cmd";
	- Entrer la commande "exit", pour fermer la fenetre.
[ ] Deconnecter l'adaptateur RS232 ‡ USB;
[ ] Dans la fenetre de commande
	- Entrer la commande "Export.cmd Ma.Mi.Bu_Type" ou
		Ma = Numero majeur de version;
		Mi = Numero mineur de version;
		Bu = Numero de comilation;
		Type =  | RC | Test

[ ] Indexer les fichiers modifies et les commettre en utilisant "Ma.Mi.Bu" comme message;
[ ] Ajouter le tag "Ma.Mi.Bu";
[ ] Pousser le depot GIT sur le	serveur.

Sur un ordinateur Windows
[ ] Executer "./ExportSources.sh Ma.Mi.Bu_Type";
